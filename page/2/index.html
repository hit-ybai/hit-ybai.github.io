<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  
  <title>White</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  
    <meta name="author" content="Bai, Yu">
  
  
  <meta property="og:type" content="website">
<meta property="og:title" content="White">
<meta property="og:url" content="http://www.everkeyword.com/page/2/index.html">
<meta property="og:site_name" content="White">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="White">
  
    <link rel="alternate" href="/atom.xml" title="White" type="application/atom+xml">
  
  
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css">
  <!--[if lt IE 9]><script src="//cdn.bootcss.com/html5shiv/3.7.0/html5shiv.min.js"></script><![endif]-->
  
  
</head>
<body>
  <div class="wrapper">
    <header id="header">
  <div class="title">
    <h1><a href="/">White</a></h1>
    <p><a href="/">There&#39;s no magic in this world.</a></p>
  </div>
  <nav class="nav">
    <ul>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/about">About</a></li>
      
        <li><a href="/Links">Links</a></li>
      
      
        <li><a href="/atom.xml">RSS</a></li>
      
    </ul>
    <div class="clearfix"></div>
  </nav>
  <div class="clearfix"></div>
</header>
    <div class="content">




  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2015/06/20/2015-06-20-seven-concurrency-models-in-seven-weeks-thread/">
  <time datetime="2015-06-20T01:20:27.000Z">
    2015-06-20
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2015/06/20/2015-06-20-seven-concurrency-models-in-seven-weeks-thread/">并发模型学习 (1)</a></h1>
  

  </header>
  
  <div class="entry">
    
      <h3 id="互斥和内存模型"><a href="#互斥和内存模型" class="headerlink" title="互斥和内存模型"></a>互斥和内存模型</h3><p>互斥：用锁保证某一时间仅有一个线程可以访问数据；<br>可能带来的麻烦：竞态条件和死锁。</p>
<h4 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h4><p>并发的基本单元：线程，可以讲线程看做控制流；<br>线程间通信方式：共享内存。<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">say_hi</span><span class="params">(name)</span></span></div><div class="line">  puts <span class="string">"Hi <span class="subst">#&#123;name&#125;</span>!"</span></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">say_hi_to_folks</span><span class="params">(folks)</span></span></div><div class="line">  folks.inject([]) <span class="keyword">do</span> <span class="params">|threads_array, name|</span></div><div class="line">    threads_array &lt;&lt; Thread.new &#123; say_hi(name) &#125;</div><div class="line">  <span class="keyword">end</span>.each(&amp;<span class="symbol">:join</span>)</div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line">say_hi_to_folks <span class="string">%w(Larry Jack)</span></div></pre></td></tr></table></figure></p>
<p>执行结果有可能是<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Hi Larry!</div><div class="line">Hi Jack!</div></pre></td></tr></table></figure></p>
<p>或者是<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Hi Jack!</div><div class="line">Hi Larry!</div></pre></td></tr></table></figure></p>
<p>多线程的运行结果依赖于时序，多次运行结果并不稳定。</p>
<p><em>注：原书使用的Java例子中，两个线程分别为主线程和子线程，由于Ruby中没有相对应的让出线程方法<code>Thread.yield()</code>，而在Ruby中相接近的<code>Thread.pass</code>实验效果又很差，故而改由两个子线程举例（那你为啥要用Ruby？ 因为不用编译啊笨蛋，不过用的都是JRuby</em></p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2015/06/20/2015-06-20-leetcode-longestSubstringWithoutRepeatingCharacters/">
  <time datetime="2015-06-19T16:20:27.000Z">
    2015-06-20
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2015/06/20/2015-06-20-leetcode-longestSubstringWithoutRepeatingCharacters/">LeetCode: Longest Substring Without Repeating Characters 解题报告</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p><a href="https://leetcode.com/problems/longest-substring-without-repeating-characters/" target="_blank" rel="external">题目描述</a>:<br><em>Given a string, find the length of the longest substring without repeating characters. For example, the longest substring without repeating letters for “abcabcbb” is “abc”, which the length is 3. For “bbbbb” the longest substring is “b”, with the length of 1.</em></p>
<hr>
<p>分析：找到最长的不包含相同字母的字串</p>
<p>题解：用一个队列来存储不含相同字母的子串，用一个hash来标记队列中已经使用过的字符。</p>
<ol>
<li>当发现即将入队的字符未被使用过时，入队，并在hash中标记下来；</li>
<li>当发现即将入队的字符已经被使用过时，记下当前队列中字串的长度，取其与历史最大长度之间的最大值作为新的解。之后将队首的字符逐一出队，并在hash中清除标记，直道清除了即将入队的字符为止，最后字符入队。</li>
<li>循环这个过程，直到所有的字符都被处理完成。</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</div><div class="line">        <span class="built_in">queue</span>&lt;<span class="keyword">char</span>&gt; current_sub_str;</div><div class="line">        <span class="keyword">int</span> sub_string_max_length = <span class="number">0</span>;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> it = s.begin() ; it &lt; s.end(); it++) &#123;</div><div class="line">            <span class="keyword">char</span> current_alphabet = *it;</div><div class="line">            </div><div class="line">            <span class="keyword">if</span> (isAlphabetExist(current_alphabet)) &#123;</div><div class="line">                syncMaxValue( sub_string_max_length, current_sub_str.size() );</div><div class="line">                popSubStringUntilAlphabet( current_alphabet, current_sub_str );</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                markAlphabet(current_alphabet);</div><div class="line">            &#125;</div><div class="line">            </div><div class="line">            current_sub_str.push(current_alphabet);</div><div class="line">        &#125;</div><div class="line">        syncMaxValue( sub_string_max_length, current_sub_str.size() );</div><div class="line">        <span class="keyword">return</span> sub_string_max_length;</div><div class="line">    &#125;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">int</span> SIZE_OF_ASCII    = <span class="number">128</span>;</div><div class="line">    <span class="keyword">bool</span> alphabet_flag[SIZE_OF_ASCII] = &#123; <span class="literal">false</span> &#125;;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isAlphabetExist</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> alphabet)</span> <span class="keyword">const</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> alphabet_flag[<span class="keyword">int</span>(alphabet)];</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">syncMaxValue</span><span class="params">(<span class="keyword">int</span> &amp;sub_string_max_length, <span class="keyword">const</span> <span class="keyword">size_t</span> current_sub_string_length)</span> <span class="keyword">const</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (current_sub_string_length &gt; sub_string_max_length) &#123;</div><div class="line">            sub_string_max_length = <span class="keyword">int</span>(current_sub_string_length);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">popSubStringUntilAlphabet</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> alphabet, <span class="built_in">queue</span>&lt;<span class="keyword">char</span>&gt; &amp;current_sub_str)</span> </span>&#123;</div><div class="line">        <span class="keyword">for</span> ( <span class="keyword">char</span> current_alphabet = current_sub_str.front(); current_alphabet != alphabet;</div><div class="line">            alphabet_flag[<span class="keyword">int</span>(current_alphabet)] = <span class="literal">false</span>,</div><div class="line">            current_sub_str.pop(),</div><div class="line">            current_alphabet = current_sub_str.front()</div><div class="line">        );</div><div class="line">        current_sub_str.pop();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">markAlphabet</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> alphabet)</span> </span>&#123;</div><div class="line">        alphabet_flag[<span class="keyword">int</span>(alphabet)] = <span class="literal">true</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2015/06/20/2015-06-20-leetcode-addTwoNumbers/">
  <time datetime="2015-06-19T16:10:27.000Z">
    2015-06-20
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2015/06/20/2015-06-20-leetcode-addTwoNumbers/">LeetCode: Add Two Numbers 解题报告</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p><a href="https://leetcode.com/problems/add-two-numbers/" target="_blank" rel="external">题目描述</a>:<br><em>You are given two linked lists representing two non-negative numbers. The digits are stored in reverse order and each of their nodes contain a single digit. Add the two numbers and return it as a linked list.</em></p>
<p><em>Input: (2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)</em><br><em>Output: 7 -&gt; 0 -&gt; 8</em></p>
<hr>
<p>分析：对两个链表进行带进位求和，若长度不一致填零</p>
<p>题解：没什么算法，模拟。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstddef&gt;</span></span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> &#123;</span></div><div class="line">    <span class="keyword">int</span> val;</div><div class="line">    ListNode *next;</div><div class="line">    ListNode(<span class="keyword">int</span> x) : val(x), next(<span class="literal">NULL</span>) &#123;&#125;</div><div class="line">&#125;;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function">ListNode* <span class="title">addTwoNumbers</span><span class="params">(ListNode* l1, ListNode* l2)</span> </span>&#123;</div><div class="line">        ListNode *ans_pointer = <span class="literal">NULL</span>, *ans_head = <span class="literal">NULL</span>;</div><div class="line">        </div><div class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</div><div class="line">        <span class="keyword">bool</span> carry_flag = <span class="literal">false</span>;</div><div class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</div><div class="line">            sum = getSum(getNodeVal(l1), getNodeVal(l2), carry_flag);</div><div class="line"></div><div class="line">            <span class="keyword">if</span> (ans_pointer) &#123;</div><div class="line">                ans_pointer-&gt;next = <span class="keyword">new</span> ListNode(sum);</div><div class="line">                ans_pointer       = ans_pointer-&gt;next;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                ans_head    = <span class="keyword">new</span> ListNode(sum);</div><div class="line">                ans_pointer = ans_head;</div><div class="line">            &#125;</div><div class="line">            nextPointer(l1);</div><div class="line">            nextPointer(l2);</div><div class="line">            <span class="keyword">if</span> ( !(l1 || l2) ) &#123;</div><div class="line">                <span class="keyword">if</span> (carry_flag) &#123; ans_pointer-&gt;next = <span class="keyword">new</span> ListNode(<span class="number">1</span>); &#125;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> ans_head;</div><div class="line">    &#125;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getNodeVal</span><span class="params">(<span class="keyword">const</span> ListNode* <span class="keyword">const</span> node)</span> <span class="keyword">const</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> node ? node-&gt;val : <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getSum</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> val1, <span class="keyword">const</span> <span class="keyword">int</span> val2, <span class="keyword">bool</span> &amp;carry_flag)</span> <span class="keyword">const</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> sum = val1 + val2 + carry_flag;</div><div class="line">        carry_flag = (sum &gt;= <span class="number">10</span>);</div><div class="line">        <span class="keyword">return</span> sum % <span class="number">10</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">nextPointer</span><span class="params">(ListNode* &amp;node)</span> <span class="keyword">const</span> </span>&#123;</div><div class="line">        node = node ? node-&gt;next : <span class="literal">NULL</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2015/06/19/2015-06-19-leetcode-twoSum/">
  <time datetime="2015-06-19T15:55:27.000Z">
    2015-06-19
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2015/06/19/2015-06-19-leetcode-twoSum/">LeetCode: Two Sum 解题报告</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p><a href="https://leetcode.com/problems/two-sum/" target="_blank" rel="external">题目描述</a>:<br><em>Given an array of integers, find two numbers such that they add up to a specific target number.</em></p>
<p><em>The function twoSum should return indices of the two numbers such that they add up to the target, where index1 must be less than index2. Please note that your returned answers (both index1 and index2) are not zero-based.</em></p>
<p><em>You may assume that each input would have exactly one solution.</em></p>
<p><em>Input: numbers={2, 7, 11, 15}, target=9</em><br><em>Output: index1=1, index2=2</em></p>
<hr>
<p>分析：题中要求找到数组<code>number</code>中“和”为<code>target</code>的两个元素对应的索引。</p>
<p>题解：首先构造一个<code>Hash{ value-&gt;idx }</code>，之后遍历每个元素<code>Numbers[i]</code>对应的<code>Target - Numbers[i]</code>是否在<code>Hash Table</code>中，若存在则输出解。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_map&gt;</span></span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; twoSum(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;numbers, <span class="keyword">int</span> target) &#123;</div><div class="line">        <span class="built_in">std</span>::<span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; num_idx_map;</div><div class="line">        <span class="keyword">auto</span> n = numbers.size();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) num_idx_map[numbers[i]] = i + <span class="number">1</span>;</div><div class="line"></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i++) &#123;</div><div class="line">            <span class="keyword">if</span> ( num_idx_map.find(target - numbers[i]) != num_idx_map.end() ) &#123;</div><div class="line">                <span class="keyword">int</span> current_num_idx = i + <span class="number">1</span>;</div><div class="line">                <span class="keyword">int</span> match_num_idx   = num_idx_map[target - numbers[i]];</div><div class="line"></div><div class="line">                <span class="keyword">if</span> (match_num_idx != current_num_idx) <span class="keyword">return</span> &#123; current_num_idx,  match_num_idx &#125;;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2015/06/13/2015-06-13-octopress2hexo/">
  <time datetime="2015-06-13T06:55:27.000Z">
    2015-06-13
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2015/06/13/2015-06-13-octopress2hexo/">从Octopress迁移到Hexo</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p>前阵子有幸地参与到一个 Road Map Project 从无到有的开发过程，整个项目做下来，感触很多。随着项目进入收官阶段，可以自由支配的时间渐渐多一些，准备有规律地更新博文。</p>
<p><img src="http://7xjra1.com1.z0.glb.clouddn.com/galaxy_soho_sky.jpg" alt="难得一见的北京蓝"></p>
<p>这次正式从<code>Octopress</code>迁移到<code>Hexo</code>，个人感觉<code>Hexo</code>更加的 Simple Stupid，从Setup到Deploy的过程相当流畅。</p>
<p><del>关于Hexo的部署，国内朋友的最佳实践是同时发布在<code>Github</code>和<code>Gitcafe</code>上，之后通过<code>DNSpod</code>分散国内外的流量，保证访问速度。感兴趣的同学可以去读一下Reference中的两篇文章。</del></p>
<p><del>我个人比较懒，并没有通过DNS来分流，只是单纯地在<code>Github</code>上备份<code>source</code>文件夹，将其软链到<code>Hexo</code>中。然后在<code>Gitcafe</code>上托管<code>Blog Site</code>。</del></p>
<p><lable style="color: red">更新于：2015.6.23</lable><br>现在还是部署回Github，因为Gitcafe常常出现无法访问的情况。</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a href="http://kuangqi.me/tricks/hexo-optimizations-for-mainland-china/" target="_blank" rel="external">Hexo Landscape主题的字体和JS库优化</a><br><a href="http://colobu.com/2014/10/13/hexo-supports-both-github-and-gitcafe/" target="_blank" rel="external">Hexo 同时支持Github和Gitcafe</a></p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2015/02/02/2015-02-02-team-working/">
  <time datetime="2015-02-02T07:53:06.000Z">
    2015-02-02
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2015/02/02/2015-02-02-team-working/">所谓工作经验</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p>在学校的时候，不理解为什么有些职位，对工作经验有很严苛的要求。因为我并不认为工作经验和技术能力之间存在这什么必然的联系。</p>
<p>不过近些天来开始意识到：<b>工作经验真的不一定和技术能力成正比，但是和团队协作能力基本上是成正比的。</b></p>
<p><img src="http://7xjra1.com1.z0.glb.clouddn.com/yzhu_jyshi_wdzhang.jpg" alt="可爱的Advertising Team同学们"></p>
<p>到公司后，逐渐地参加到商业软件项目的开发中，通过这段时间的观察，发现到对于一个职业的软件工程师，需要具备的能力并不限于算法和工程问题。还要学会换位思考，站在多个角色的角度来看同一个问题，来保证顺畅的沟通。</p>
<p>软件开发的流程中通常包含了：</p>
<ul>
<li>产品经理<ul>
<li>需求分析文档</li>
</ul>
</li>
<li>开发工程师<ul>
<li>技术设计文档, 编码, 时间估算, 代码审查</li>
</ul>
</li>
<li>测试工程师<ul>
<li>用例设计文档, 时间估算, 自动化测试, 本地测试, 集成测试</li>
</ul>
</li>
<li>运维工程师<ul>
<li>部署上线</li>
</ul>
</li>
</ul>
<p>产品经理在做需求文档的时候，一定征求会开发人员的意见，来做出一个可行的产品设计。</p>
<p>工程师在做技术文档设计和时间估算的时候，也会在团队中其他工程师的建议下，调整设计文档和<code>Story Point</code>预估，来保证设计的逻辑正确性以及可实施性。</p>
<p>部署的过程更需要开发工程师和运维工程师完全地理解彼此的需求，才能保证项目上线不出差错。</p>
<p>在每个环节，如果可以<b>理解每个角色对于一个项目的关切是什么</b>，定会催化团队内部的化学作用，提高团队产出的质量。</p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2015/01/19/2015-01-19-rails-mvc/">
  <time datetime="2015-01-19T06:55:27.000Z">
    2015-01-19
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2015/01/19/2015-01-19-rails-mvc/">[Rails] 所谓MVC</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p>使用<code>MVC</code>的Web开发框架有很多，比如<code>PHP</code>的<code>Zend</code>，<code>Python</code>的<code>Django</code>和<code>Golang</code>的<code>Beego</code>。这篇文章主要介绍一下<code>MVC</code>的基本概念。</p>
<h2 id="何为MVC"><a href="#何为MVC" class="headerlink" title="何为MVC"></a>何为MVC</h2><p>为了明确一个<code>Web Application</code>中各个部分的职责，我们人为规定三个层级：控制器（Controller），模型（Model）和视图（View），这是一种设计上的解耦。</p>
<p>为了直观地解释这三个层级的概念，我们假设这它们分别对应代码层面的三个类：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooModel</span></span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooView</span></span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooController</span></span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<h4 id="调度器（Controller）-–-完整的request生命周期"><a href="#调度器（Controller）-–-完整的request生命周期" class="headerlink" title="调度器（Controller） – 完整的request生命周期"></a>调度器（Controller） – 完整的request生命周期</h4><p>我们可以简单的理解为：用户在浏览器上输入的每个合法的URL，都将被映射到Controller类上的一个实例方法。该实例方法是一次<code>request</code>的<strong>入口</strong>，负责调度程序的各个部分，返回<code>web response</code>给浏览器。</p>
<p>所谓入口，指的是一次访问的<b>整个生命周期，都随着这个方法的开始而开始，结束而结束。</b>从这个角度来看，我们完全可以不使用模型和视图，就能完成一个Web应用。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Rails中URL和实例方法的映射关系在routes.rb中设置</span></div><div class="line"><span class="comment"># 比如 '/index' =&gt; Controller#index 可以规定:</span></div><div class="line"><span class="comment">#   当用户在browser中输入"http://yoursiteurl.com/index"时</span></div><div class="line"><span class="comment">#   执行Controller类的index方法</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooController</span></span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">index</span></span></div><div class="line">    @counter = @counter ? @counter + <span class="number">1</span> : <span class="number">0</span> </div><div class="line"></div><div class="line">    render <span class="symbol">html:</span> <span class="string">"&lt;p&gt;你是该网站的第<span class="subst">#&#123;@counter&#125;</span>名访客&lt;/p&gt;"</span>.html_safe</div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<h4 id="模型（Model）-–-数据持久化存储"><a href="#模型（Model）-–-数据持久化存储" class="headerlink" title="模型（Model） – 数据持久化存储"></a>模型（Model） – 数据持久化存储</h4><p>我们可以看到，在一次request结束后，Controller实例方法中分配的内存会被回收，无法再次被使用。为了能够将Controller处理过程中的数据在今后继续使用，我们需要对这部分数据进行持久化存储。</p>
<p>所以我们期望有一个类，他的所有变量都永远不会消失。同时，我们还希望它可以提取对数据操作的逻辑（如例中的counter计数），方便今后复用。我们将它叫做模型（Model），至于它如何做到所有的变量永不消失，我们回头再讲。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooModel</span></span></div><div class="line">  <span class="comment"># ...</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">counter</span></span></div><div class="line">    @counter = @counter ? @counter + <span class="number">1</span> : <span class="number">0</span> </div><div class="line">    save <span class="comment"># 持久化存储，具体实现细节在后面的文章会讲</span></div><div class="line"></div><div class="line">    @counter</div><div class="line">  <span class="keyword">end</span></div><div class="line">  <span class="comment"># ...</span></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooController</span></span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">index</span></span></div><div class="line">    model = FooModel.new</div><div class="line">    render <span class="symbol">html:</span> <span class="string">"&lt;p&gt;你是该网站的第<span class="subst">#&#123;model.counter&#125;</span>名访客&lt;/p&gt;"</span>.html_safe</div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<h4 id="视图（View）-–-页面展示"><a href="#视图（View）-–-页面展示" class="headerlink" title="视图（View） – 页面展示"></a>视图（View） – 页面展示</h4><p>在上面的两个例子中都出现了类似<code>render html: xxx</code>之类的代码。如果我们不想在Controller中出现HTML代码，可以把它放在View层。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooModel</span></span></div><div class="line">  <span class="comment"># ...</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">counter</span></span></div><div class="line">    @counter = @counter ? @counter + <span class="number">1</span> : <span class="number">0</span> </div><div class="line">    save <span class="comment"># 持久化存储，具体实现细节在后面的文章会讲</span></div><div class="line"></div><div class="line">    @counter</div><div class="line">  <span class="keyword">end</span></div><div class="line">  <span class="comment"># ...</span></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooView</span></span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">(counter)</span></span></div><div class="line">    <span class="string">"&lt;p&gt;你是该网站的第<span class="subst">#&#123;counter&#125;</span>名访客&lt;/p&gt;"</span></div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooController</span></span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">index</span></span></div><div class="line">    model = FooModel.new</div><div class="line">    view  = FooView.new</div><div class="line"></div><div class="line">    render <span class="symbol">html:</span> view.index(model.counter).html_safe</div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<h3 id="小节"><a href="#小节" class="headerlink" title="小节"></a>小节</h3><p><em>1. 调度器（Controller）对于一个程序来说是必须存在的，它负责得到输入，返回输出</em><br><em>2. 我们用模型（Model）这个概念来<strong>抽象</strong>调度器（Controller）中，关于<strong>数据存取、逻辑运算</strong>相关的代码，以便独立地维护它们。</em><br><em>3. 我们用视图（View）这个概念来<strong>抽象</strong>调度器（Controller）中，关于<strong>数据展示格式</strong>相关的代码，以便独立地维护它们。</em></p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2015/01/16/2015-01-16-rails-for-newbee/">
  <time datetime="2015-01-16T10:41:44.000Z">
    2015-01-16
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2015/01/16/2015-01-16-rails-for-newbee/">[Rails] 学习报告</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p>在阅读这个系列文章之前，希望读者对于网络开发有一些了解，最好能够先完成以下课程的学习： </p>
<blockquote>
<p><a href="http://v.163.com/special/opencourse/cs50.html" target="_blank" rel="external">哈佛大学公开课：计算机科学cs50</a> (Web部分)<br><a href="http://v.163.com/special/opencourse/buildingdynamicwebsites.html" target="_blank" rel="external">哈佛大学公开课：构建动态网站</a></p>
</blockquote>
<p>其实，终究Rails只是一个框架，他只是一种设计思想的实体化的产物。你不能说傻学怎么用这个框架，所以你不能一上来就直接学各种Rails的feature。</p>
<p>最好的学习方法，是学习这个框架的设计思路。因为如果这样，即使之后<strong>你们不再使用rails，你也可以用ruby开发或者组装出另一套新的框架。甚至如果你们不再使用ruby，你也可以用其他语言，写出基于另一个语言的开发框架。这些都超越了语言和框架的本身，是大家共性的东西，是精髓。</strong>而且就我个人来讲，这个概念可以更广义地应用到更多的方面，此处不多深入，有机会时会写一篇文章。</p>
<blockquote>
<p>[Rails] <a href="/2015/01/19/2015-01-19-rails-mvc/">所谓MVC</a><br>[Rails] <a href="/2015/06/26/2015-06-26-rails-dispatcher/">从Request到Response</a></p>
</blockquote>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2015/01/09/2015-01-09-donot-sudo-brew/">
  <time datetime="2015-01-09T01:34:22.000Z">
    2015-01-09
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2015/01/09/2015-01-09-donot-sudo-brew/">sudo brew install</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p>近些天来一直受到一个问题的困扰，在执行<code>activemq start</code>后，能够看到进程已经启动，然而根本没有什么卵用，完全连不上<code>localhost:8161/admin/</code>。改成<code>sudo activemq start</code>，问题就解决了。</p>
<p>今天终于发现了问题的原因：当初我在用<code>brew</code>安装<code>activemq</code>的时候就是用的是：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo brew install activemq</div></pre></td></tr></table></figure></p>
<p>而正确的安装方式是：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ brew install activemq</div></pre></td></tr></table></figure></p>
<p>解决方案：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ brew reinstall activemq</div></pre></td></tr></table></figure></p>
<p>如果再这么做的话，这个世界，就清静了：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ brew reinstall `brew list`</div></pre></td></tr></table></figure></p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2015/01/04/2015-01-04-always-wirting/">
  <time datetime="2015-01-04T15:06:48.000Z">
    2015-01-04
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2015/01/04/2015-01-04-always-wirting/">关于Everkeyword</a></h1>
  

  </header>
  
  <div class="entry">
    
      <h3 id="为什么叫Everkeyword"><a href="#为什么叫Everkeyword" class="headerlink" title="为什么叫Everkeyword"></a>为什么叫Everkeyword</h3><p>学生时期，比较爱想，有过一个创业的Idea。当时就觉得Everkeyword这个名字非常适合想象中的“产品”。从那时候开始，就一直想把这个域名注册下来。</p>
<h3 id="Everkeyword是做什么的"><a href="#Everkeyword是做什么的" class="headerlink" title="Everkeyword是做什么的"></a>Everkeyword是做什么的</h3><p>Everkeyword现在是我的个人技术博客，而不再是那个产品。我会在上面分享一些技术方面的心得体会。</p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  

  <nav id="pagination">
  
    <a href="/" class="prev">Prev</a>
  
  
    <a href="/page/3/" class="next">Next</a>
  
  <div class="clearfix"></div>
</nav>

</div>
  </div>
  
  <div id="sidebar" class="widgets-bottom">
  
<div class="widget category">
  <h3 class="title">categories</h3>
  <ul class="entry">
  
    <li><a href="/categories/开发工具/">开发工具</a><small>2</small></li>
  
    <li><a href="/categories/技术日志/">技术日志</a><small>2</small></li>
  
    <li><a href="/categories/流程方法/">流程方法</a><small>1</small></li>
  
    <li><a href="/categories/程序开发/">程序开发</a><small>6</small></li>
  
    <li><a href="/categories/解题报告/">解题报告</a><small>3</small></li>
  
    <li><a href="/categories/读书报告/">读书报告</a><small>13</small></li>
  
  </ul>
</div>


  
<div class="widget tagcloud">
  <h3 class="title">tagcloud</h3>
  <div class="entry">
    <a href="/tags/MVC/" style="font-size: 10px;">MVC</a> <a href="/tags/activemq/" style="font-size: 10px;">activemq</a> <a href="/tags/c/" style="font-size: 18px;">c++</a> <a href="/tags/c-primer-plus/" style="font-size: 18px;">c++ primer plus</a> <a href="/tags/data-structure/" style="font-size: 10px;">data structure</a> <a href="/tags/dispatcher/" style="font-size: 10px;">dispatcher</a> <a href="/tags/gitcafe/" style="font-size: 10px;">gitcafe</a> <a href="/tags/hash/" style="font-size: 12px;">hash</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/homebrew/" style="font-size: 10px;">homebrew</a> <a href="/tags/leetcode/" style="font-size: 14px;">leetcode</a> <a href="/tags/linked-list/" style="font-size: 10px;">linked list</a> <a href="/tags/octopress/" style="font-size: 10px;">octopress</a> <a href="/tags/rails/" style="font-size: 18px;">rails</a> <a href="/tags/rake/" style="font-size: 10px;">rake</a> <a href="/tags/route/" style="font-size: 10px;">route</a> <a href="/tags/ruby/" style="font-size: 10px;">ruby</a> <a href="/tags/tree/" style="font-size: 10px;">tree</a> <a href="/tags/unicorn/" style="font-size: 10px;">unicorn</a> <a href="/tags/vim/" style="font-size: 10px;">vim</a> <a href="/tags/学习报告/" style="font-size: 16px;">学习报告</a> <a href="/tags/工作经验/" style="font-size: 10px;">工作经验</a> <a href="/tags/并发/" style="font-size: 16px;">并发</a> <a href="/tags/并行/" style="font-size: 16px;">并行</a> <a href="/tags/心理/" style="font-size: 14px;">心理</a> <a href="/tags/读书报告/" style="font-size: 20px;">读书报告</a>
  </div>
</div>


  
<div class="widget tag">
  <h3 class="title">recent_posts</h3>
  <ul class="entry">
    
      <li>
        <a href="/2016/05/18/2016-05-18-charlie-munger-on-the-psychology-of-human-misjudgment-three/">人类误判心理（3）</a>
      </li>
    
      <li>
        <a href="/2015/11/13/2015-11-13-the-core-value-of-sde/">软件工程师的核心价值</a>
      </li>
    
      <li>
        <a href="/2015/10/15/2015-10-15-b-tree/">B-Tree</a>
      </li>
    
      <li>
        <a href="/2015/06/28/2015-06-26-rails-request-to-response-two/">[Rails] 从Request到Response（2）</a>
      </li>
    
      <li>
        <a href="/2015/06/26/2015-06-26-rails-request-to-response-one/">[Rails] 从Request到Response（1）</a>
      </li>
    
  </ul>
</div>

</div>
  
  <footer id="footer"><div class="copyright">
  
  &copy; 2017 <a href="/">Bai, Yu</a>
  
</div>
<div class="theme-copyright">
  Theme by <a href="https://github.com/orderedlist" target="_blank">orderedlist</a>
   | 
  Redesign by <a href="http://blog.dafengning.com/" target="_blank">Chong Zi</a>
</div>
<div class="clearfix"></div></footer>
  <script src="//lib.sinaapp.com/js/jquery/1.8/jquery.min.js"></script>
<script src="/js/scale.fix.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
  var disqus_shortname = 'everkeyword';

  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  }());
</script>


<div id="rightfix" style="display:none;">


<a href="javascript:void(0)" id="gotop" class="fix_btn" onclick="gotop();" title="回到顶部"><i></i></a>
<script>
  function gotop(){
    $('html,body').animate({
        scrollTop : '0px'
      }, 800);
  }
  $(function(){
    _rightfix = $('#rightfix');
    $(window).scroll(function(){
      $sollTop = document.documentElement.scrollTop + document.body.scrollTop;
      if($sollTop > 350){
        _rightfix.show();
      }else{
        _rightfix.hide();
      }
    });
  });
</script>

</div>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
  (function($){
    $('.fancybox').fancybox();
  })(jQuery);
</script>

</body>
</html>